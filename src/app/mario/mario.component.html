<div #gameContainer class="w-full h-full overflow-hidden relative transition-colors duration-500"
    [ngClass]="isDarkMode ? 'bg-gradient-to-b from-gray-900 to-blue-900' : 'bg-gradient-to-b from-sky-300 to-sky-100'">
    <!-- Stars (only visible in dark mode) -->
    @if (isDarkMode) {
    @for (star of stars(); track star.x + '-' + star.y) {
    <div class="star" [style.left.px]="star.x" [style.top.px]="star.y" [style.width.px]="star.size"
        [style.height.px]="star.size">
    </div>
    }
    }

    <!-- Clouds (less visible in dark mode) -->
    @for (cloud of clouds(); track cloud.x + '-' + cloud.y) {
    <div class="absolute rounded-full transition-opacity duration-500"
        [ngClass]="isDarkMode ? 'bg-gray-700 opacity-30' : 'bg-white opacity-80'" [style.left.px]="cloud.x"
        [style.top.px]="cloud.y" [style.width.px]="cloud.size" [style.height.px]="cloud.size * 0.6">
        <div class="absolute rounded-full" [ngClass]="isDarkMode ? 'bg-gray-700' : 'bg-white'"
            [style.left.px]="cloud.size * 0.3" [style.top.px]="cloud.size * -0.2" [style.width.px]="cloud.size * 0.7"
            [style.height.px]="cloud.size * 0.7">
        </div>
        <div class="absolute rounded-full" [ngClass]="isDarkMode ? 'bg-gray-700' : 'bg-white'"
            [style.left.px]="cloud.size * 0.6" [style.top.px]="cloud.size * 0.1" [style.width.px]="cloud.size * 0.5"
            [style.height.px]="cloud.size * 0.5">
        </div>
    </div>
    }

    <!-- Birds (less visible in dark mode) -->
    @for (bird of birds(); track bird.x + '-' + bird.y) {
    <div class="absolute text-2xl transition-opacity duration-500" [ngClass]="isDarkMode ? 'opacity-30' : 'opacity-100'"
        [style.left.px]="bird.x" [style.top.px]="bird.y">
        üê¶
    </div>
    }

    <!-- Ground (darker in dark mode) -->
    <div class="absolute bottom-0 left-0 right-0 h-24 transition-colors duration-500"
        [ngClass]="isDarkMode ? 'bg-gradient-to-b from-gray-800 to-gray-900' : 'bg-gradient-to-b from-yellow-700 to-yellow-900'">
        <div class="absolute top-0 left-0 right-0 h-4 bg-gradient-to-b transition-colors duration-500"
            [ngClass]="isDarkMode ? 'from-green-800 to-transparent' : 'from-green-600 to-transparent'"></div>
        <div class="absolute top-0 left-0 right-0 h-full bg-repeat-x opacity-20"
            style="background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQYV2NkYGD4z8DAwMgABXAGNgGwSgwVAFbmAgXQdISfAAAAAElFTkSuQmCC');">
        </div>
    </div>

    <!-- Mario -->
    <div #mario class="absolute bottom-24 left-16 w-16 h-16 flex items-center justify-center text-4xl z-10">
        üèÉ
    </div>

    <!-- Obstacles -->
    @for (obstacle of obstacles(); track obstacle.position) {
    <div class="absolute bottom-24 w-16 h-16 flex items-center justify-center text-4xl z-5"
        [style.left.px]="obstacle.position">
        {{ obstacle.emoji }}
    </div>
    }
</div>